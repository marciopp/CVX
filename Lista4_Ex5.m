%{
***************************************************************************
* Otimização Convexa com 
* CVX - exercício 5 lista 4 de Otimização Convexa
* Marcio Pinto Pereira - julho de 2016
* Programado em Matlab R2016a 
* 
* Licenciado sob CC-BY-SA
***************************************************************************
%}
A1=-1/8*[0 0 0 0; 0 0 0 0; 0 0 0 0; 0 0 0 0]; B1=[1; 2; 1; 2];
A2=[4 0 0 ; 0 1 -1 ; 0 -1 1]; B2=[1; 1; 1];
warning off;
cvx_begin
    cvx_precision high
    variable x(4)
    %minimize ( 100*(x(1)^2-x(2))^2 + (x(1)-1)^2 + 90*(x(3)^2-x(4))^2 + (x(3)-1)^2 + 10.1*((x(2)-1)^2+(x(4)-1)^2) + 19.8*(x(2)-1)*(x(4)-1) );
    %minimize ( 100*pow_pos( x(1)^2-x(2),2) + (x(1)-1)^2 + 90*(x(3)^2-x(4))^2 + (x(3)-1)^2 + 10.1*((x(2)-1)^2+(x(4)-1)^2) + 19.8*(x(2)-1)*(x(4)-1) );
    %minimize polynomial_(x)
    %minimize ( 100*x(1)^4 - 200*x(2)*x(1)^2 + 100*x(2)^2 + x(1)^2 - 2*x(1) + 1 + 90*x(3)^4 - 180*x(4)*x(3)^2 + 90*x(4)^2 + x(3)^2 - 2*x(3) + 1 + 10.1*x(2)^2 - 20.2*x(2) +10.1 + 10.1*x(4)^2 - 20.2*x(4) +10.1 + 19.8*x(2)*x(4) - 19.8*x(2) - 19.8*x(4) +19.8 );
    minimize ( 100*abs(x(1)^2-x(2))^2 + (x(1)-1)^2 + 90*abs(x(3)^2-x(4))^2 + (x(3)-1)^2 + 10.1*((x(2)-1)^2+(x(4)-1)^2) + 19.8*(x(2)-1)*(x(4)-1) );
    subject to
        %-1/4*x(1)^2-x(2)^2+1/2*x(1)+3/4 >= 0;
        %(-5/8*x(3)^2)-(5/8*x(4)^2)-(6/8*x(3)*x(4))+(11/2*x(3))+(13/2*x(4))-(35/2) >= 0;
        %x'*A1*x + x'*B1 - 3 == 0;
        % x'*B2 - 3 == 0;
        x >= -10;
        -x >= -10;
cvx_end
%minimize (x(1)^2 - 2*x(3)*x(1) + x(3)^2 + x(2)^2 -2*x(2)*x(4) + x(4)^2);
warning on;
format long
x